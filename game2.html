<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <title>Game Studi Kasus - Tubuh & Kesehatan</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    webkit::-webkit-scrollbar {
      display: none;
    }

    .fade-in {
      animation: fadeIn 0.7s ease-in;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    .scale-hover {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .scale-hover:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
    }
  </style>
</head>

<body
  class="bg-gradient-to-br from-green-100 via-green-200 to-green-300 min-h-screen flex flex-col items-center justify-center font-sans p-4">

  <h1 class="text-4xl font-extrabold text-green-800 drop-shadow mb-4 animate-bounce">🧑‍⚖️ Game Studi Kasus Tubuh &
    Kesehatan</h1>
  <p class="mb-6 text-lg text-indigo-900 font-medium">Pilih solusi terbaik! Jika salah, ada sanksinya 👮</p>

  <!-- Status Bar -->
  <div class="flex justify-between items-center w-full max-w-2xl mb-6">
    <div id="lives" class="text-red-600 text-2xl">❤️❤️❤️</div>
    <div id="score" class="text-indigo-700 text-xl font-bold">⭐ 0</div>
  </div>

  <!-- Arena -->
  <div id="arena" class="w-full max-w-2xl bg-white/90 backdrop-blur-md p-8 rounded-2xl shadow-2xl text-center fade-in">
    <div id="case" class="text-lg font-semibold mb-6 text-gray-800">Kasus akan tampil di sini</div>
    <div id="options" class="grid grid-cols-1 gap-4"></div>
    <div id="feedback" class="mt-6 text-lg font-extrabold"></div>
    <div id="story" class="mt-4 text-md font-medium text-gray-700"></div>
    <img id="gif" src="" alt="gif" class="mx-auto mt-4 w-52 rounded-xl shadow hidden" />
    <button id="nextBtn"
      class="hidden mt-6 px-6 py-3 bg-purple-500 text-white rounded-xl hover:bg-purple-600 active:scale-95 shadow-lg transition">➡️
      Lanjutkan</button>
  </div>

  <!-- Modal Hasil -->
  <div id="resultModal" class="fixed inset-0 bg-black/50 hidden flex items-center justify-center">
    <div class="bg-white p-8 rounded-2xl shadow-2xl max-w-md text-center fade-in">
      <h2 id="result" class="text-2xl font-extrabold mb-4"></h2>
      <button onclick="location.reload()"
        class="mt-4 px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition font-bold">
        🔄 Main Lagi
      </button>
    </div>
  </div>


  <script>
    const cases = [
      {
        case: "Seorang anak lupa mencuci tangan sebelum makan nasi.",
        options: [
          "Tetap makan karena tangan terlihat bersih",
          "Mencuci tangan dengan sabun sebelum makan",
          "Meniup tangan agar kuman hilang"
        ],
        answer: "Mencuci tangan dengan sabun sebelum makan",
        penalty: "Kena sakit perut karena kuman masuk!",
        story: "Karena kamu mencuci tangan dengan sabun, tubuhmu jadi sehat dan bebas kuman. 👍",
        gifCorrect: "https://media3.giphy.com/media/hVIiqmnlNNIiBc93nr/giphy.gif",
        gifWrong: "https://media0.giphy.com/media/CoTpnN8mgGSfm/giphy.gif"
      },
      {
        case: "Seorang anak bermain di luar saat terik matahari tanpa topi.",
        options: [
          "Tetap main, biar hitam nggak masalah",
          "Memakai topi atau payung untuk melindungi diri",
          "Bermain terus sampai pusing"
        ],
        answer: "Memakai topi atau payung untuk melindungi diri",
        penalty: "Kepala pusing kena panas!",
        story: "Karena pakai topi, kamu tetap bisa bermain dengan aman tanpa kepanasan. 🎩☀️",
        gifCorrect: "https://media2.giphy.com/media/hi0s4QcqydR2Qr0J86/giphy.gif",
        gifWrong: "https://media2.giphy.com/media/8JQ4hAJ5RzA2JmIeoK/giphy.gif"
      },
      {
        case: "Temanmu sakit batuk, lalu kamu minum dari gelas yang sama.",
        options: [
          "Tidak apa-apa, biar tambah akrab",
          "Segera cuci gelas dan gunakan gelas sendiri",
          "Minum banyak air biar sehat"
        ],
        answer: "Segera cuci gelas dan gunakan gelas sendiri",
        penalty: "Ikut tertular batuk!",
        story: "Karena kamu pakai gelas sendiri, tubuhmu tetap sehat dan tidak tertular. 🥤💪",
        gifCorrect: "https://media0.giphy.com/media/NquOFc59mXTQIvbtkJ/giphy.gif",
        gifWrong: "https://media0.giphy.com/media/Hkya3YFcXcmQ0/giphy.gif"
      }
    ];

    let current = 0;
    let score = 0;
    let lives = 3;

    const caseEl = document.getElementById("case");
    const optionsEl = document.getElementById("options");
    const scoreEl = document.getElementById("score");
    const livesEl = document.getElementById("lives");
    const resultEl = document.getElementById("result");
    const feedbackEl = document.getElementById("feedback");
    const nextBtn = document.getElementById("nextBtn");
    const storyEl = document.getElementById("story");
    const gifEl = document.getElementById("gif");
    const resultModal = document.getElementById("resultModal");

    function loadCase() {
      if (lives <= 0) { gameOver(false); return; }
      if (current >= cases.length) { gameOver(true); return; }

      const c = cases[current];
      caseEl.textContent = `Kasus ${current + 1}: ${c.case}`;
      feedbackEl.textContent = "";
      storyEl.textContent = "";
      gifEl.src = "";
      gifEl.classList.add("hidden");
      optionsEl.innerHTML = "";
      nextBtn.classList.add("hidden");

      c.options.forEach(opt => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.className = "px-4 py-3 bg-blue-200 rounded-xl shadow scale-hover font-bold";
        btn.onclick = () => checkAnswer(opt, c, btn);
        optionsEl.appendChild(btn);
      });
    }

    function checkAnswer(selected, c, btn) {
      [...optionsEl.children].forEach(b => b.disabled = true);

      if (selected === c.answer) {
        score += 10;
        scoreEl.textContent = `⭐ ${score}`;
        feedbackEl.textContent = "🎉 Benar! Kamu memilih solusi yang tepat.";
        feedbackEl.className = "mt-6 text-lg font-extrabold text-green-600 fade-in";
        storyEl.textContent = c.story;
        gifEl.src = c.gifCorrect;
        gifEl.classList.remove("hidden");
        btn.classList.add("bg-green-400");
      } else {
        lives--;
        livesEl.textContent = "❤️".repeat(lives);
        feedbackEl.textContent = `❌ Salah! ${c.penalty}`;
        feedbackEl.className = "mt-6 text-lg font-extrabold text-red-600 fade-in";
        storyEl.textContent = "";
        gifEl.src = c.gifWrong;
        gifEl.classList.remove("hidden");
        btn.classList.add("bg-red-400");
      }

      nextBtn.classList.remove("hidden");
    }

    nextBtn.addEventListener("click", () => {
      current++;
      loadCase();
    });

    function gameOver(win) {
      document.getElementById("arena").classList.add("hidden");
      resultModal.classList.remove("hidden");
      if (win) {
        resultEl.textContent = `🏆 Selamat! Kamu menyelesaikan semua kasus dengan skor ${score}.`;
        resultEl.className = "text-green-700 text-2xl font-extrabold fade-in";
      } else {
        resultEl.textContent = `😢 Game Over! Nyawa habis. Skor akhir: ${score}`;
        resultEl.className = "text-red-700 text-2xl font-extrabold fade-in";
      }
    }

    loadCase();
  </script>
</body>

</html>